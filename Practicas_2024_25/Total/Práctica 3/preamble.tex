\usepackage{xcolor}
\usepackage{listings}
\lstset{
  breaklines=true,  % Permite el ajuste de líneas largas
  breakatwhitespace=true,  % Rompe en espacios en blanco
  basicstyle=\ttfamily\small,  % Estilo básico para el código
  columns=flexible,
  keepspaces=true,
  numbers=left,  % Numerar las líneas de código (opcional)
  numberstyle=\tiny,  % Estilo de número de línea
  captionpos=b,  % Posición de la leyenda (opcional)
  escapeinside={\%*}{*)},  % Permite la inserción de LaTeX dentro de código
}