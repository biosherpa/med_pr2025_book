<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jesús Esteban Hernández">
<meta name="dcterms.date" content="2022-02-12">

<title>Apuntes Prácticas de la asignatura de Bioestadística - 5&nbsp; PR4-Estadística Descriptiva.</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./references.html" rel="next">
<link href="./PR_3_lect.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">PR4-Estadística Descriptiva.</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Apuntes Prácticas de la asignatura de Bioestadística</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./PR_0_lect.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">PR0-Buenas prácticas en recopilación de datos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./PR_1_lect.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">PR1-Introducción a R y RStudio.</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./PR_2_lect.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">PR2-Importación de datos.</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./PR_3_lect.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">PR3-Manipulación de datos.</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./PR_4_lect.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">PR4-Estadística Descriptiva.</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#estadística-descriptiva-con-r." id="toc-estadística-descriptiva-con-r." class="nav-link active" data-scroll-target="#estadística-descriptiva-con-r."><span class="toc-section-number">6</span>  Estadística descriptiva con R.</a>
  <ul class="collapse">
  <li><a href="#descriptivo-inicial-y-depuración." id="toc-descriptivo-inicial-y-depuración." class="nav-link" data-scroll-target="#descriptivo-inicial-y-depuración."><span class="toc-section-number">6.1</span>  Descriptivo inicial y depuración.</a>
  <ul class="collapse">
  <li><a href="#gráficos-simples." id="toc-gráficos-simples." class="nav-link" data-scroll-target="#gráficos-simples."><span class="toc-section-number">6.1.1</span>  Gráficos simples.</a></li>
  <li><a href="#gráfico-de-dispersión-o-scatter-plot." id="toc-gráfico-de-dispersión-o-scatter-plot." class="nav-link" data-scroll-target="#gráfico-de-dispersión-o-scatter-plot."><span class="toc-section-number">6.1.2</span>  Gráfico de dispersión o scatter plot.</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">PR4-Estadística Descriptiva.</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jesús Esteban Hernández </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 12, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">

<style type="text/css">
<style type="text/css">
  
  .TOC {
    left:0;
    width:200px;
    margin-left: 0px;
    right: 2px;
    margin: 2px 20px 20px 0px;
    color: red;
    font-size: 2px;
  }

  .main-container {
  
  width:1800px !important;
  margin-left: 10px;
  margin-right: 10px;
  
}

body {
  font-size: 14pt;
  font-family: Helvetica;
  <!-- color: red; -->
  <!-- background-color: olive; -->
  
}

h1 {
  font-size: 34px;
}

h2 {
  font-size: 20px;
  color: red;
  text-indent:10px;

}

h3 {
  font-size: 20px;
  color: blue;
  text-indent:15px;

}


h4 {
  font-size: 20px;
  color: green;
  text-indent:20px;

}

tocify-header {
    text-indent: initial;
}

.gt_table {
  margin-left: 10px !important;
  margin-right: 10px !important;
  width: auto !important;
  
}


</style></style>


</div>
<p>Recuerda siempre cómo <em>“piensa”</em> R.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pics/como_piensa_R.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Cómo piensa R</figcaption><p></p>
</figure>
</div>
<section id="estadística-descriptiva-con-r." class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Estadística descriptiva con R.</h1>
<p>En la sección anterior hemos visto como importar y gestionar variables de un <strong>dataframe</strong>. En esta práctica vamos a ver cómo obtener los descriptivos básicos. Es lo que se llama Análisis Exploratorio de los Datos (Exploratory Data Analysis [EDA])</p>
<p>Lo primero que debemos hacer es cargar los datos de iam que habíamos importado y modificado en la sesión anterior.</p>
<p>No indico ruta porque estoy en el directorio de trabajo y es donde está el archivo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>iam <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">'iam.RDS'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si no fuese así, debería indicar la ruta entre las comillas. Por ejemplo, si estuviese en un subdirectorio del de trabajo, debería hacerlo así.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">readRDS</span>(<span class="st">'_data/iam.RDS'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Este código debería devolveros un error salvo que efectivamnte hayáis colocado el archivo en ese subdirectorio<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<section id="descriptivo-inicial-y-depuración." class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="descriptivo-inicial-y-depuración."><span class="header-section-number">6.1</span> Descriptivo inicial y depuración.</h2>
<p>Entre los objetivos del llamado Análisis Exploratorio de los Datos (EDA o Exploratory Data Analysis) destacaría tres:</p>
<ul>
<li>Obtener una visión general de la distribución de tus variables tanto mediante los descriptivos como los gráficos adecuados para el tipo de variable.</li>
<li>Detectar valores anómalos por ser extremos (outliers), por no constar (missing) o por ser imposibles (error de medida o de introducción).</li>
<li>Visualizar relaciones bivariadas (también hay técnicas multivariadas, pero no las veremos en esta introducción) entre las variables del dataframe.</li>
<li>Una vez identificado todo lo anterior, podremos construir una primera foto de nuestra muestra.</li>
</ul>
<p>Respecto a los valores anómalos, a veces podrán ser eliminados (errores de introducción), pero en otras ocasiones tendremos que lidiar con ellos en la construcción de los modelos y en la presentación de los resultados.</p>
<p>Aunque no es una regla exacta, se suele decir que no te puedes fiar de una variable que tenga más de un 10% de valores perdidos (missing), pero en ocasiones no te queda más remedio que utilizarlas. En estos casos hay diversas técnicas de imputación de valores perdidos que escapan a los objetivos de este curso.</p>
<p>Como habremos visto durante la clase, los descriptivos y gráficos adecuados dependen de la escala de medida de la variable a describir.</p>
<p>R tiene algunos criterios para decidir que devolver cuando le pedimos que haga un resumen (función <em>summary</em>), pero para ello necesita que la variable sea de la clase adecuada (numéric, integer, logical, factor)</p>
<p>Utilizaremos el dataframe iam. Recordemos su estructura.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(iam)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   100 obs. of  9 variables:
 $ Id    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ Age   : num  65.2 62.5 64.7 65.4 70.7 ...
 $ Sex   : int  1 0 0 0 0 0 1 0 0 0 ...
 $ Height: num  1.62 1.56 1.69 1.34 1.81 1.78 1.79 1.44 1.56 1.87 ...
 $ Weight: num  74.6 60.9 74.2 43.9 80.9 ...
 $ Smoke : int  0 0 0 0 1 0 0 1 0 0 ...
 $ ami   : int  0 0 0 0 0 0 0 1 0 0 ...
 $ age5  : Factor w/ 2 levels "[55,65]","(65,75]": 2 1 1 2 2 2 2 1 1 2 ...
 $ bmi   : num  28.4 25 26 24.5 24.7 ...</code></pre>
</div>
</div>
<p>Como se puede apreciar, algunas variables que deberían ser categóricas están como tipo entero (int o integer), así que lo primero que vamos a hacer es convertirlas en factores.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>iam<span class="sc">$</span>Sex<span class="ot">&lt;-</span><span class="fu">factor</span>(iam<span class="sc">$</span>Sex,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">'Men'</span>,<span class="st">'Women'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Podríamos ir cambiando una a una, pero R cuenta con algunas funciones que permiten cambiar simultáneamente varias variables que se van a etiquetar de la misma manera. En nuestro caso son ami (Acute Myocardial Infarction) y Smoke (Fuma sí/no) que van con 0 (No) y 1 (Yes).</p>
<pre><code>Es recomendable utilizar una estrategia homogénea de etiquetado de valores de variable para facilitar conversiones posteriores.</code></pre>
<p>La familia de funciones <em>apply</em> (<em>apply, lapply, sapply, tapply, mapply…</em>) no son demasiado intuitivas, y se han desarrollado funciones que permiten realizar los mismo ocn código más intuitivo. Aunque incluya aquí un ejemplo, no es esencial conocerlas para poder realizar este tipo de modificación.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>iam[,<span class="fu">c</span>(<span class="st">'ami'</span>,<span class="st">'Smoke'</span>)]<span class="ot">&lt;-</span><span class="fu">lapply</span>(iam[,<span class="fu">c</span>(<span class="st">'ami'</span>,<span class="st">'Smoke'</span>)],factor,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">'No'</span>,<span class="st">'Yes'</span>))</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(iam)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   100 obs. of  9 variables:
 $ Id    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ Age   : num  65.2 62.5 64.7 65.4 70.7 ...
 $ Sex   : Factor w/ 2 levels "Men","Women": 2 1 1 1 1 1 2 1 1 1 ...
 $ Height: num  1.62 1.56 1.69 1.34 1.81 1.78 1.79 1.44 1.56 1.87 ...
 $ Weight: num  74.6 60.9 74.2 43.9 80.9 ...
 $ Smoke : Factor w/ 2 levels "No","Yes": 1 1 1 1 2 1 1 2 1 1 ...
 $ ami   : Factor w/ 2 levels "No","Yes": 1 1 1 1 1 1 1 2 1 1 ...
 $ age5  : Factor w/ 2 levels "[55,65]","(65,75]": 2 1 1 2 2 2 2 1 1 2 ...
 $ bmi   : num  28.4 25 26 24.5 24.7 ...</code></pre>
</div>
</div>
<p>Como podemos observar, en la nueva estructura (hemos modificado el dataframe) las variables que antes eran de tipo entero, ahora son factores.</p>
<p>Si ahora pedimos un primer resumen, observamos una serie de descriptivos básicos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(iam)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Id              Age           Sex         Height          Weight      
 Min.   :  1.00   Min.   :59.50   Men  :58   Min.   :1.150   Min.   : 30.31  
 1st Qu.: 25.75   1st Qu.:63.73   Women:42   1st Qu.:1.580   1st Qu.: 64.77  
 Median : 50.50   Median :65.24              Median :1.705   Median : 77.36  
 Mean   : 50.50   Mean   :65.14              Mean   :1.683   Mean   : 74.62  
 3rd Qu.: 75.25   3rd Qu.:66.70              3rd Qu.:1.790   3rd Qu.: 82.59  
 Max.   :100.00   Max.   :70.71              Max.   :1.960   Max.   :121.87  
 Smoke     ami          age5         bmi       
 No :60   No :50   [55,65]:47   Min.   :17.09  
 Yes:40   Yes:50   (65,75]:53   1st Qu.:24.25  
                                Median :25.42  
                                Mean   :26.05  
                                3rd Qu.:27.81  
                                Max.   :33.01  </code></pre>
</div>
</div>
<p>El paquete <em>psych</em> ofrece más posibilidades. Recuerde que si no lo tienen instalado debe instalarlo antes de llamar al paquete.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(iam)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       vars   n  mean    sd median trimmed   mad   min    max range  skew
Id        1 100 50.50 29.01  50.50   50.50 37.06  1.00 100.00 99.00  0.00
Age       2 100 65.14  2.09  65.24   65.15  2.23 59.50  70.71 11.21 -0.04
Sex*      3 100  1.42  0.50   1.00    1.40  0.00  1.00   2.00  1.00  0.32
Height    4 100  1.68  0.16   1.71    1.69  0.16  1.15   1.96  0.81 -0.72
Weight    5 100 74.62 16.79  77.36   74.86 12.53 30.31 121.87 91.56 -0.11
Smoke*    6 100  1.40  0.49   1.00    1.38  0.00  1.00   2.00  1.00  0.40
ami*      7 100  1.50  0.50   1.50    1.50  0.74  1.00   2.00  1.00  0.00
age5*     8 100  1.53  0.50   2.00    1.54  0.00  1.00   2.00  1.00 -0.12
bmi       9 100 26.05  3.14  25.42   25.86  2.02 17.09  33.01 15.93  0.35
       kurtosis   se
Id        -1.24 2.90
Age       -0.32 0.21
Sex*      -1.92 0.05
Height     0.43 0.02
Weight     0.47 1.68
Smoke*    -1.86 0.05
ami*      -2.02 0.05
age5*     -2.01 0.05
bmi        0.41 0.31</code></pre>
</div>
</div>
<p>Desgraciadamente, aunque identifica las variables categóricas, utiliza el valor numérico subyacente. Fíjese en la media de la variable Sex (1.42).</p>
<p>A no olvidar:</p>
<ul>
<li>Echar un vistazo al mínimo y máximo. Esto nos permite detectar valores imposibles (por ejemplo una edad de 130 años, o un peso de 999).</li>
<li>Identificar si hay valores perdidos.</li>
<li>Estadísticos que nos dan una primera visión sobre la distribución.
<ul>
<li>Cercanía de la media a la mediana, desviación típica (recuerde que el coeficiente de variación es <span class="math inline">\(\frac{sd}{\overline{x}})\)</span> expresado en %).</li>
<li>Media recortada (trimmed, por defecto recorta el 10%) nos permite evaluar la influencia de los valores extremos.</li>
<li>Asimetría (Skewness) y curtosis (Kurtosis) que nos permiten evaluar su parecido con una distribución normal, aunque solo con la estimación no es suficiente para llegar a una conclusión.</li>
<li>MAD o Median Absolute Deviation, una medida robusta de la variabilidad que no es más que la mediana de los valores absolutos de distancias de cada valor a la mediana del conjunto. <span class="math inline">\(MAD=median([X_i-median{X}])\)</span>. b</li>
<li>También aparece el error estándar (standard error o <span class="math inline">\(se(X)\)</span>) que como veremos es importante en inferencia y que no se debe confundir con la desviación típica (standar deviation o <span class="math inline">\((sd)\)</span>).</li>
<li>No aparecen por defecto pero se pueden solicitar los cuartiles, en realidad los percentiles que deseemos. Recuerde que estas son medidas de posición, que también ayudan a describir nuestros datos.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(iam,<span class="at">quant=</span><span class="fu">c</span>(.<span class="dv">1</span>,.<span class="dv">25</span>,.<span class="dv">5</span>,.<span class="dv">75</span>,.<span class="dv">9</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       vars   n  mean    sd median trimmed   mad   min    max range  skew
Id        1 100 50.50 29.01  50.50   50.50 37.06  1.00 100.00 99.00  0.00
Age       2 100 65.14  2.09  65.24   65.15  2.23 59.50  70.71 11.21 -0.04
Sex*      3 100  1.42  0.50   1.00    1.40  0.00  1.00   2.00  1.00  0.32
Height    4 100  1.68  0.16   1.71    1.69  0.16  1.15   1.96  0.81 -0.72
Weight    5 100 74.62 16.79  77.36   74.86 12.53 30.31 121.87 91.56 -0.11
Smoke*    6 100  1.40  0.49   1.00    1.38  0.00  1.00   2.00  1.00  0.40
ami*      7 100  1.50  0.50   1.50    1.50  0.74  1.00   2.00  1.00  0.00
age5*     8 100  1.53  0.50   2.00    1.54  0.00  1.00   2.00  1.00 -0.12
bmi       9 100 26.05  3.14  25.42   25.86  2.02 17.09  33.01 15.93  0.35
       kurtosis   se  Q0.1 Q0.25  Q0.5 Q0.75  Q0.9
Id        -1.24 2.90 10.90 25.75 50.50 75.25 90.10
Age       -0.32 0.21 62.53 63.73 65.24 66.70 68.12
Sex*      -1.92 0.05  1.00  1.00  1.00  2.00  2.00
Height     0.43 0.02  1.47  1.58  1.71  1.79  1.86
Weight     0.47 1.68 53.96 64.77 77.36 82.59 93.47
Smoke*    -1.86 0.05  1.00  1.00  1.00  2.00  2.00
ami*      -2.02 0.05  1.00  1.00  1.50  2.00  2.00
age5*     -2.01 0.05  1.00  1.00  2.00  2.00  2.00
bmi        0.41 0.31 23.20 24.25 25.42 27.81 31.30</code></pre>
</div>
</div>
<p>Con frecuencia necesitamos obtener los descriptivos en función de los grupos que establezca una variable categórica. Para ello podemos recurrir a la función <em>by</em>, en la que indicamos cotjunto de datos a describir (argumento en posición 1), índice o variable que establece los grupos (argumento en posición 2) y función que queremos aplicar a cada grupo establecido por la funcion índice sobre las variables incluidas en el objeto que contiene los datos <em>iam</em>.</p>
<p>No todas las funciones son aceptadas por by, pero <em>psych::describe</em> si lo es.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">by</span>(iam,iam<span class="sc">$</span>Sex,psych<span class="sc">::</span>describe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>iam$Sex: Men
       vars  n  mean    sd median trimmed   mad   min    max range  skew
Id        1 58 49.64 30.61  48.50   49.50 40.03  2.00 100.00 98.00  0.05
Age       2 58 65.15  2.07  65.28   65.12  2.03 60.89  70.71  9.82  0.18
Sex*      3 58  1.00  0.00   1.00    1.00  0.00  1.00   1.00  0.00   NaN
Height    4 58  1.67  0.16   1.70    1.69  0.17  1.15   1.87  0.72 -1.07
Weight    5 58 70.31 12.45  75.19   71.70 10.51 30.31  84.79 54.48 -1.01
Smoke*    6 58  1.31  0.47   1.00    1.27  0.00  1.00   2.00  1.00  0.80
ami*      7 58  1.34  0.48   1.00    1.31  0.00  1.00   2.00  1.00  0.64
age5*     8 58  1.52  0.50   2.00    1.52  0.00  1.00   2.00  1.00 -0.07
bmi       9 58 24.96  1.10  24.68   24.94  1.16 22.92  27.88  4.97  0.32
       kurtosis   se
Id        -1.36 4.02
Age       -0.33 0.27
Sex*        NaN 0.00
Height     1.07 0.02
Weight     0.55 1.63
Smoke*    -1.38 0.06
ami*      -1.62 0.06
age5*     -2.03 0.07
bmi       -0.56 0.14
------------------------------------------------------------ 
iam$Sex: Women
       vars  n  mean    sd median trimmed   mad   min    max range  skew
Id        1 42 51.69 26.97  53.50   51.74 31.88  1.00  99.00 98.00 -0.06
Age       2 42 65.13  2.14  65.19   65.19  2.36 59.50  68.63  9.13 -0.32
Sex*      3 42  2.00  0.00   2.00    2.00  0.00  2.00   2.00  0.00   NaN
Height    4 42  1.70  0.16   1.72    1.70  0.16  1.39   1.96  0.57 -0.27
Weight    5 42 80.58 20.06  80.74   81.40 16.12 36.92 121.87 84.95 -0.37
Smoke*    6 42  1.52  0.51   2.00    1.53  0.00  1.00   2.00  1.00 -0.09
ami*      7 42  1.71  0.46   2.00    1.76  0.00  1.00   2.00  1.00 -0.92
age5*     8 42  1.55  0.50   2.00    1.56  0.00  1.00   2.00  1.00 -0.18
bmi       9 42 27.55  4.26  28.54   27.91  4.68 17.09  33.01 15.93 -0.66
       kurtosis   se
Id        -1.14 4.16
Age       -0.44 0.33
Sex*        NaN 0.00
Height    -0.79 0.02
Weight    -0.20 3.10
Smoke*    -2.04 0.08
ami*      -1.19 0.07
age5*     -2.01 0.08
bmi       -0.45 0.66</code></pre>
</div>
</div>
<p>Como se puede observar, la salida no está para ser publicada.</p>
<p>Como también habremos comentado en las clases de teoría, las variables categóricas ofrecen menos posibilidades descriptivas (contienen menos información) y su descripción univariada se va a reducir a dar las frecuencias absolutas y relativas.</p>
<p>La obtención de una tabla de contingencia es relativamente fácil.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(iam<span class="sc">$</span>Sex,iam<span class="sc">$</span>Smoke)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       
        No Yes
  Men   40  18
  Women 20  22</code></pre>
</div>
</div>
<p>Y la de las frecuencias relativas por (condicionadas a) fila o columna, también.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>t1<span class="ot">&lt;-</span><span class="fu">table</span>(iam<span class="sc">$</span>Sex,iam<span class="sc">$</span>Smoke)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(t1,<span class="dv">1</span>) <span class="co"># 1 le indca que son los % sobre el total de fila, por eso suman 100%.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       
               No       Yes
  Men   0.6896552 0.3103448
  Women 0.4761905 0.5238095</code></pre>
</div>
</div>
<p>Los de la tabla anterior son las proporciones de fumadores en el grupo de mujeres (31%) y de hombres (52%).</p>
<p>Los de la siguiente son la proporción de hombres dentro de cada nivel de la variable fumador (sí/no).</p>
<p>Entre los no fumadores el 66.7% fueron hombres y el 33.3% fueron mujeres.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(t1,<span class="dv">2</span>) <span class="co"># 2 le indca que son los % sobre el total de fila, por eso suman 100%.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       
               No       Yes
  Men   0.6666667 0.4500000
  Women 0.3333333 0.5500000</code></pre>
</div>
</div>
<p>Existen funciones para ver los márgenes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span> (<span class="fu">table</span>(iam<span class="sc">$</span>Sex,iam<span class="sc">$</span>Smoke))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       
         No Yes Sum
  Men    40  18  58
  Women  20  22  42
  Sum    60  40 100</code></pre>
</div>
</div>
<p>Ir variable a variable no es lo que necesitamos cuando queremos resumir muchas variables, por lo que algunos paquetes facilitan obtener esta información de varias variables a la vez.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>tableone<span class="sc">::</span><span class="fu">CreateCatTable</span>(<span class="at">data=</span>iam,<span class="at">vars=</span><span class="fu">c</span>(<span class="st">'Smoke'</span>,<span class="st">'ami'</span>,<span class="st">'age5'</span>),<span class="at">strata =</span> <span class="st">'Sex'</span>,<span class="at">test =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    Stratified by Sex
                     Men        Women     
  n                  58         42        
  Smoke = Yes (%)    18 (31.0)  22 (52.4) 
  ami = Yes (%)      20 (34.5)  30 (71.4) 
  age5 = (65,75] (%) 30 (51.7)  23 (54.8) </code></pre>
</div>
</div>
<p>Incluso son capaces de distinguir el tipo de variable para utilizar el descriptor adecuado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>tableone<span class="sc">::</span><span class="fu">CreateTableOne</span> (<span class="at">data=</span>iam[,<span class="sc">-</span><span class="dv">1</span>],<span class="at">strata =</span> <span class="st">'Sex'</span>,<span class="at">test =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    Stratified by Sex
                     Men           Women         
  n                     58            42         
  Age (mean (SD))    65.15 (2.07)  65.13 (2.14)  
  Sex = Women (%)        0 ( 0.0)     42 (100.0) 
  Height (mean (SD))  1.67 (0.16)   1.70 (0.16)  
  Weight (mean (SD)) 70.31 (12.45) 80.58 (20.06) 
  Smoke = Yes (%)       18 (31.0)     22 ( 52.4) 
  ami = Yes (%)         20 (34.5)     30 ( 71.4) 
  age5 = (65,75] (%)    30 (51.7)     23 ( 54.8) 
  bmi (mean (SD))    24.96 (1.10)  27.55 (4.26)  </code></pre>
</div>
</div>
<p>Algunos incluso devuelven información gráfica.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summarytools<span class="sc">::</span><span class="fu">dfSummary</span>(iam[,<span class="sc">-</span><span class="dv">1</span>],</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">plain.ascii  =</span> <span class="cn">FALSE</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">style        =</span> <span class="st">'grid'</span>,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">graph.magnif =</span> <span class="fl">0.85</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">varnumbers =</span> <span class="cn">FALSE</span>,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">valid.col    =</span> <span class="cn">FALSE</span>,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>          <span class="co"># tmp.img.dir  = "/tmp"</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>          ),<span class="at">method =</span> <span class="st">'render'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="container st-container">
<h3 class="anchored">Data Frame Summary</h3>
<h4 class="anchored">iam</h4>
<strong>Dimensions</strong>: 100 x 8
  <br><strong>Duplicates</strong>: 0
<br>
<table class="table table-striped table-bordered st-table st-table-striped st-table-bordered st-multiline ">
  <thead>
    <tr>
      <th align="center" class="st-protect-top-border"><strong>Variable</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Stats / Values</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Freqs (% of Valid)</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Graph</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Missing</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="left">Age
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 65.1 (2.1)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">59.5 ≤ 65.2 ≤ 70.7</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 3 (0)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">100 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAIMAAABfBAMAAAA5T2kBAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfpCQcSDh4Wdt3RAAAAfUlEQVRYw+3YwQ2AIAyFYUZQJ9Cygey/mwcoITUEFGNM/N+FkLbfGeocKTPXskhKtWNqEiFmh4CAgICAgIAYJPRlIkrofesmvI6aM0BAQEBAQEB8hhC7jbhO5AIExMtEXqYNEKdOiD8T9hPUQejEmghf7WwVwoOE3I8SJOYAO9RZY6wlaTAAAAAASUVORK5CYII="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">Sex
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. Men</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. Women</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">58</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">58.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">42</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">42.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAFYAAAAvBAMAAACLVSDNAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfpCQcSDh4Wdt3RAAAAOUlEQVRIx2NgGHpAiRgAVatsTBgYjaodVTtI1ZKS1gWJATRWi8eVGGpxh4PRqNpRtYNeLSlpfSgBACps7jQGedylAAAAAElFTkSuQmCC"></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">Height
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 1.7 (0.2)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1.1 ≤ 1.7 ≤ 2</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 0.2 (0.1)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">38 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAIMAAABfBAMAAAA5T2kBAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfpCQcSDh4Wdt3RAAAAhUlEQVRYw+3WQQqAIBBAUY9QnqDsBnn/uwWOwQRFNUMl9P/OGB+IiwyBdP21YiqN+lt3k8glCAgICAiIvxLyM00eYip756+IegIPIXszxHNEvSUPURcQEBAQEBCtE1G/TYyEHm+YkJMOHkIWECfE5sluI3bGISCMRNLZiOOJN4lkbyVIWgBeBV/u52OmDAAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">Weight
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 74.6 (16.8)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">30.3 ≤ 77.4 ≤ 121.9</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 17.8 (0.2)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">76 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAIMAAABfBAMAAAA5T2kBAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfpCQcSDh4Wdt3RAAAAlElEQVRYw+3WXQqAIBAEYI9QnaD0Bnn/u0W7BQtLkbuQP8w8+CLzoSZhCIjM/JYlUh5mp09EPrP3TFyn4CK4DAIEiIEJ+acwEkmUQYAAAQIECBAgQIxF8HPRRVA5g2ifoG+9uQgafyDEvbQSotwroU6hnFDltomo7mgxkdRa6hFyO0ZCrqU2wdtZPQSPbRHRnptAOAdmuFhBdX4dEwAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">Smoke
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. No</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. Yes</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">60</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">60.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">40</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">40.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAFkAAAAvBAMAAAB6XntAAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfpCQcSDh4Wdt3RAAAAOklEQVRIx2NgGLpAiSigAFWtbEwMGFU9qnpoqiYtNwgSBQTooBqnUxWxqcYZJqOqR1UPA9Wk5YahCACuJfNZtvAUzQAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">ami
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. No</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. Yes</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">50</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">50.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">50</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">50.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEwAAAAvBAMAAAC72THsAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfpCQcSDh4Wdt3RAAAAMUlEQVQ4y2NgGNxAiQCAKlM2xguMRpWNKqOmMiKTpSABQBNlo1lmVNkgVEZkshysAACC8+FBDaw6tgAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">age5
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. [55,65]</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. (65,75]</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">47</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">47.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">53</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">53.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAFAAAAAvBAMAAACGS1CKAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfpCQcSDh4Wdt3RAAAAOklEQVQ4y2NgGBpACS8QBAKoQmVjPMBoVOGoQvoqJDrhChIENFOoRBAQ42uwz0cVjiqkn0KiE+5gBwC0yOZvPgO7ewAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="left">bmi
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 26 (3.1)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">17.1 ≤ 25.4 ≤ 33</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 3.6 (0.1)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">77 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAIMAAABfBAMAAAA5T2kBAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAPUExURf////3+/aampvDw8P///7GHRIEAAAACdFJOUwAAdpPNOAAAAAFiS0dEAIgFHUgAAAAHdElNRQfpCQcSDh4Wdt3RAAAAgklEQVRYw+3XUQqAIBBF0ZZQraBsB7X/vQU9AweUyOkj5b4fGRgPIio4DCTNVExQ1mLD+EhsxxUICAgICAgICAgICAgICAcx64PqIjT3OyJ+mj2Ehh2iW8IckjrCFG0S6e2tJDJL6oDQxiweQgXEXwnzAsTiJWHOW6a9GSLU5yaIcgI5+wjU4GrgJQAAAABJRU5ErkJggg=="></td>
      <td align="center">0
(0.0%)</td>
    </tr>
  </tbody>
</table>
<p>Generated by <a href="https://github.com/dcomtois/summarytools">summarytools</a> 1.1.4 (<a href="https://www.r-project.org/">R</a> version 4.4.1)<br>2025-09-07</p>
</div>
</div>
</div>
<p>En cualquier caso siguen siendo tablas que no están listas para ser publicadas.</p>
<p>Si dio tiempo, en la última clase deberíamos haber visto una tabla construida como <em>“publication-ready tables”</em>.</p>
<p>Aquí incluyo un ejemplo, con los datos utilizados en esta sesión.</p>
<div class="cell">
<div class="cell-output-display">

<div id="zpdrnxcjvu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zpdrnxcjvu table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zpdrnxcjvu thead, #zpdrnxcjvu tbody, #zpdrnxcjvu tfoot, #zpdrnxcjvu tr, #zpdrnxcjvu td, #zpdrnxcjvu th {
  border-style: none;
}

#zpdrnxcjvu p {
  margin: 0;
  padding: 0;
}

#zpdrnxcjvu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zpdrnxcjvu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zpdrnxcjvu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zpdrnxcjvu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zpdrnxcjvu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zpdrnxcjvu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zpdrnxcjvu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zpdrnxcjvu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zpdrnxcjvu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zpdrnxcjvu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zpdrnxcjvu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zpdrnxcjvu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zpdrnxcjvu .gt_spanner_row {
  border-bottom-style: hidden;
}

#zpdrnxcjvu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zpdrnxcjvu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zpdrnxcjvu .gt_from_md > :first-child {
  margin-top: 0;
}

#zpdrnxcjvu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zpdrnxcjvu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zpdrnxcjvu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zpdrnxcjvu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zpdrnxcjvu .gt_row_group_first td {
  border-top-width: 2px;
}

#zpdrnxcjvu .gt_row_group_first th {
  border-top-width: 2px;
}

#zpdrnxcjvu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zpdrnxcjvu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zpdrnxcjvu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zpdrnxcjvu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zpdrnxcjvu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zpdrnxcjvu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zpdrnxcjvu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zpdrnxcjvu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zpdrnxcjvu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zpdrnxcjvu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zpdrnxcjvu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zpdrnxcjvu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zpdrnxcjvu .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zpdrnxcjvu .gt_left {
  text-align: left;
}

#zpdrnxcjvu .gt_center {
  text-align: center;
}

#zpdrnxcjvu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zpdrnxcjvu .gt_font_normal {
  font-weight: normal;
}

#zpdrnxcjvu .gt_font_bold {
  font-weight: bold;
}

#zpdrnxcjvu .gt_font_italic {
  font-style: italic;
}

#zpdrnxcjvu .gt_super {
  font-size: 65%;
}

#zpdrnxcjvu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zpdrnxcjvu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zpdrnxcjvu .gt_indent_1 {
  text-indent: 5px;
}

#zpdrnxcjvu .gt_indent_2 {
  text-indent: 10px;
}

#zpdrnxcjvu .gt_indent_3 {
  text-indent: 15px;
}

#zpdrnxcjvu .gt_indent_4 {
  text-indent: 20px;
}

#zpdrnxcjvu .gt_indent_5 {
  text-indent: 25px;
}

#zpdrnxcjvu .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#zpdrnxcjvu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Table 1. Descriptive statistics of the sample by Sex</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="label"><span data-qmd-base64="KipDaGFyYWN0ZXJpc3RpYyoq"><span class="gt_from_md"><strong>Characteristic</strong></span></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="stat_1"><span data-qmd-base64="KipNZW4qKiAgCk4gPSA1OA=="><span class="gt_from_md"><strong>Men</strong><br>
N = 58</span></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="stat_2"><span data-qmd-base64="KipXb21lbioqICAKTiA9IDQy"><span class="gt_from_md"><strong>Women</strong><br>
N = 42</span></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">Age</td>
<td headers="stat_1" class="gt_row gt_center">65.28 (63.74, 66.54)</td>
<td headers="stat_2" class="gt_row gt_center">65.19 (63.72, 66.78)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Height</td>
<td headers="stat_1" class="gt_row gt_center">1.70 (1.57, 1.79)</td>
<td headers="stat_2" class="gt_row gt_center">1.72 (1.58, 1.79)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Weight</td>
<td headers="stat_1" class="gt_row gt_center">75 (61, 81)</td>
<td headers="stat_2" class="gt_row gt_center">81 (73, 93)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Smoke</td>
<td headers="stat_1" class="gt_row gt_center">18 (31%)</td>
<td headers="stat_2" class="gt_row gt_center">22 (52%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">AMI</td>
<td headers="stat_1" class="gt_row gt_center">20 (34%)</td>
<td headers="stat_2" class="gt_row gt_center">30 (71%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Age group</td>
<td headers="stat_1" class="gt_row gt_center"><br></td>
<td headers="stat_2" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;[55,65]</td>
<td headers="stat_1" class="gt_row gt_center">28 (48%)</td>
<td headers="stat_2" class="gt_row gt_center">19 (45%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;(65,75]</td>
<td headers="stat_1" class="gt_row gt_center">30 (52%)</td>
<td headers="stat_2" class="gt_row gt_center">23 (55%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">BMI</td>
<td headers="stat_1" class="gt_row gt_center">24.68 (24.20, 25.79)</td>
<td headers="stat_2" class="gt_row gt_center">28.54 (24.48, 31.30)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="3"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> <span data-qmd-base64="TWVkaWFuIChRMSwgUTMpOyBuICglKQ=="><span class="gt_from_md">Median (Q1, Q3); n (%)</span></span></td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<section id="gráficos-simples." class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="gráficos-simples."><span class="header-section-number">6.1.1</span> Gráficos simples.</h3>
<p>Incluyo aquí algunos gráficos elaborados con las opciones gráficas en lo que he denominado <em>base R</em>. No serán los que utilizaremos para publicar, pero son perfectamente correctos.</p>
<section id="gráficos.-variables-categóricas." class="level4" data-number="6.1.1.1">
<h4 data-number="6.1.1.1" class="anchored" data-anchor-id="gráficos.-variables-categóricas."><span class="header-section-number">6.1.1.1</span> Gráficos. Variables categóricas.</h4>
<section id="gráficos-de-columnas." class="level5" data-number="6.1.1.1.1">
<h5 data-number="6.1.1.1.1" class="anchored" data-anchor-id="gráficos-de-columnas."><span class="header-section-number">6.1.1.1.1</span> Gráficos de columnas.</h5>
<p>Curiosamente es uno de los gráficos más sencillos y sin embargo en base R su personalización es laboriosa, entre otras cosas porque necesita construir previamente una tabla.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>t2<span class="ot">&lt;-</span><span class="dv">100</span><span class="sc">*</span><span class="fu">prop.table</span>(<span class="fu">table</span>(iam<span class="sc">$</span>Smoke,iam<span class="sc">$</span>Sex),<span class="dv">2</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">barplot</span>(t2,<span class="at">beside=</span>T,<span class="at">col=</span><span class="fu">c</span>(<span class="st">'cadetblue'</span>,<span class="st">'red'</span>),</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">100</span>),</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab=</span><span class="st">'%'</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">'Sex'</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="st">'uno'</span>,<span class="st">'dos'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in xy.coords(x, y, recycle = TRUE, setLab = FALSE): NAs introducidos
por coerción</code></pre>
</div>
<div class="cell-output-display">
<p><img src="PR_4_lect_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="gráficos.-variables-continuas." class="level4" data-number="6.1.1.2">
<h4 data-number="6.1.1.2" class="anchored" data-anchor-id="gráficos.-variables-continuas."><span class="header-section-number">6.1.1.2</span> Gráficos. Variables continuas.</h4>
<p>Algo similar va a ocurrir con respecto a las posibilidades gráficas en la descripción univariada.</p>
<p>Desarrollamos aquí los gráficos vistos durante las clases.</p>
<section id="histograma" class="level5" data-number="6.1.1.2.1">
<h5 data-number="6.1.1.2.1" class="anchored" data-anchor-id="histograma"><span class="header-section-number">6.1.1.2.1</span> Histograma</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(iam<span class="sc">$</span>Age) <span class="co"># las opciones ayudan a mejorar la presentación. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PR_4_lect_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(iam<span class="sc">$</span>Age,<span class="at">freq=</span>F,<span class="at">col=</span><span class="st">"blue"</span>,<span class="at">xlab=</span><span class="st">"Edad"</span>) <span class="co">#prob=T es lo mismo que freq=F</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">density</span>(iam<span class="sc">$</span>Age)) <span class="co"># para que dibuje la función de densidad. Necesita prob=T (*)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PR_4_lect_files/figure-html/unnamed-chunk-19-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Se puede sofisticar algo más.</p>
<p>Esta representación fusiona los dos histogramas y juega con la transparencia para comparar su distribuciones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(iam<span class="sc">$</span>Age[iam<span class="sc">$</span>Sex<span class="sc">==</span><span class="st">"Men"</span>],<span class="at">freq=</span>F,<span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>),<span class="at">xlab=</span><span class="st">'Age'</span>,<span class="at">main=</span><span class="st">'Histogram of Age by Sex'</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(iam<span class="sc">$</span>Age[iam<span class="sc">$</span>Sex<span class="sc">==</span><span class="st">"Women"</span>],<span class="at">freq=</span>F,<span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>),<span class="at">add=</span>T,<span class="at">xlab=</span><span class="st">'Age'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PR_4_lect_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Es necesario usar freq=T porque si saca las absolutas el grupo más grande destacará sobre el grupo más pequeño.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="boxplot" class="level5" data-number="6.1.1.2.2">
<h5 data-number="6.1.1.2.2" class="anchored" data-anchor-id="boxplot"><span class="header-section-number">6.1.1.2.2</span> Boxplot</h5>
<section id="una-variable." class="level6" data-number="6.1.1.2.2.1">
<h6 data-number="6.1.1.2.2.1" class="anchored" data-anchor-id="una-variable."><span class="header-section-number">6.1.1.2.2.1</span> Una variable.</h6>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(iam<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PR_4_lect_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(iam<span class="sc">$</span>Age,<span class="at">col=</span><span class="st">"red"</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="fl">1.25</span>,<span class="fu">median</span>(iam<span class="sc">$</span>Age),<span class="fu">round</span>(<span class="fu">median</span>(iam<span class="sc">$</span>Age),<span class="dv">2</span>)) <span class="co"># función gráfica de bajo nivel.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PR_4_lect_files/figure-html/unnamed-chunk-21-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="por-grupos-de-otra-variable-categórica." class="level6" data-number="6.1.1.2.2.2">
<h6 data-number="6.1.1.2.2.2" class="anchored" data-anchor-id="por-grupos-de-otra-variable-categórica."><span class="header-section-number">6.1.1.2.2.2</span> Por grupos de otra variable categórica.</h6>
<p>Incluimos algunas ociones de configuración.</p>
<p>Las etiquetas salen porque las hemos deficido en el factor, de otra forma saldrían los valores (0,1)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(<span class="at">formula=</span>Age<span class="sc">~</span>Sex,<span class="at">data=</span>iam,</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span><span class="fu">c</span>(<span class="st">'orange'</span>,<span class="st">'purple'</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>        )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PR_4_lect_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="stemleaf" class="level5" data-number="6.1.1.2.3">
<h5 data-number="6.1.1.2.3" class="anchored" data-anchor-id="stemleaf"><span class="header-section-number">6.1.1.2.3</span> Stem&amp;Leaf</h5>
<p>Lo incluyo por cuestiones históricas y porque realmente aporta información que el histograma no, pero es raro ya ver este gráfico.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stem</span>(iam<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  The decimal point is at the |

  58 | 5
  60 | 92579
  62 | 1235567788890114557799
  64 | 0112334455577788890112233344445555799
  66 | 002334456788802222233455
  68 | 1122344662
  70 | 7</code></pre>
</div>
</div>
</section>
<section id="gráfico-q-q." class="level5" data-number="6.1.1.2.4">
<h5 data-number="6.1.1.2.4" class="anchored" data-anchor-id="gráfico-q-q."><span class="header-section-number">6.1.1.2.4</span> Gráfico Q-Q.</h5>
<p>Gráfica cuantil-cuantil frente a distribución normal.</p>
<p>Este gráfico es muy útil y sirve para analizar visualmente si una distribución empírica (nuestros datos observados) sigue razonablemente bien una distribución normal<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>. Cuando la sigue, los puntos se distribuyen cerca de la línea.</p>
<p>Para ello enfrentan los datos observados frente a los cuantiles que ocuparían en una distribución, en este caso normal.</p>
<p>Las coordenadas en cada eje para cada punto se construyen de la siguiente manera<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p>
<p>En el eje de ordenadas (eje y) representa la posición que ocupan los valores observados expresada en cuantiles desde el centro de la distribución empírica. En el eje de abscisas (eje x) se representa la posición que ocuparían dichos valores en una distribución teórica normal perfecta con la misma media y desviación típica que la distribución empírica.</p>
<p>Si la distancia (expresada en cuantiles) a la que está un punto observado en la distribución empírica coincidiese perfectamente con la distancia (expresada en cuantiles) a la que estaría ese mismo punto en una distribución normal perfecta con la misma media y desviación típica que la de la distribución empírica, todos los puntos se colocarían en la diagonal diagonal. Si se apartan, es que los puntos no están donde se les espera, informando de asimetrías en las colas, distribuciones bimodales, existencia de valores atípicos…</p>
<p>Hace falta cierta experiencia para interpretar los detalles finos, pero es un gráfico bastante intuitivo para identificar problemas con la normalidad de la variable incluso al ojo menos experimentado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>qqnorm <span class="co">#(Gráfico cuantil-cuantil de distribución de variable problema frente a distribución normal con misma media y desviación típica que la de la variable problema).</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (y, ...) 
UseMethod("qqnorm")
&lt;bytecode: 0x0000022c0e564a70&gt;
&lt;environment: namespace:stats&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qqnorm</span>(iam<span class="sc">$</span>Age)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">qqline</span>(iam<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PR_4_lect_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="gráfico-de-dispersión-o-scatter-plot." class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="gráfico-de-dispersión-o-scatter-plot."><span class="header-section-number">6.1.2</span> Gráfico de dispersión o scatter plot.</h3>
<p>En este representamos la relación bivariada entre dos variables cuantitativas, preferentemente continuas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(iam<span class="sc">$</span>Age,iam<span class="sc">$</span>bmi,<span class="at">main=</span><span class="st">'Scatter plot BMI by Age'</span>,</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">'Age [yrs.]'</span>,</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab=</span><span class="fu">expression</span>(<span class="fu">paste</span>(<span class="st">'Body Mass Index ['</span>,Kg<span class="sc">/</span>m<span class="sc">^</span><span class="dv">2</span>,<span class="st">']'</span>)) <span class="co">#Es posible insertar fórmulas, aunque no siempre es fácil.</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PR_4_lect_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Si tuviésemos que ir una a una, supondría mucho trabajo. Existen funciones que nos pueden devolver múltiples tipos de relación simultáneamente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(iam[,<span class="fu">c</span>(<span class="st">'Age'</span>,<span class="st">'Height'</span>,<span class="st">'Weight'</span>,<span class="st">'bmi'</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PR_4_lect_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Como pasaba con las tablas, estos gráficos no son aún <em>‘Publication-ready Graphs’</em>. Dado que este tipo de gráficos no son necesarios para superar el bloque, si da tiempo hablaremos de cómo crearlos en la última sesión.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="PR_4_lect_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="2400"></p>
</div>
</div>


</section>
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Recordad que siempre es mejor utilizar direccionamiento relativo (/_data/iam.RDS) en vez de absoluto (‘C:/Users/Usuario/Documents/SUB1/SUB2/SUB3/SUB4/SUB5/SUB6/dataiam.RDS’) - atención a la dirección de la barra si copiasteis el path desde Windows<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>En realidad se puede comparar con otras distribuciones teóricas, pero la que nos interesa aquí es la distribución normal<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Si no recuerdo mal, SPSS representa este gráfico invirtiendo los ejes, pero la interpretación es muy similar.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./PR_3_lect.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">PR3-Manipulación de datos.</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./references.html" class="pagination-link">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>